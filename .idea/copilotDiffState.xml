<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/headers/client_logic.h">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/headers/client_logic.h" />
              <option name="originalContent" value="//&#10;// Created by damko on 23/12/2025.&#10;//&#10;&#10;#ifndef SEMESTRALKA_CLIENT_LOGIC_H&#10;#define SEMESTRALKA_CLIENT_LOGIC_H&#10;&#10;/**&#10; * @file client_logic.h&#10; * @brief Deklarácie klientských funkcií a typov pre vizualizáciu simulácie.&#10; *&#10; * Tento header poskytuje prototypy funkcií používaných na zobrazenie výsledkov&#10; * simulácie a spracovanie lokálnych vstupov (klávesnica). Obsahuje tiež jednoduchý&#10; * enum a štruktúru pre lokálne režimy zobrazenia a odovzdávanie argumentov vlákna.&#10; */&#10;&#10;#include &quot;ipc_shm.h&quot;&#10;&#10;&#10;&#10;// Definícia režimov zobrazenia - len pre potreby klienta&#10;/**&#10; * @brief Režimy, v ktorých môže klient zobrazovať sumárne výsledky.&#10; *&#10; * ZOBRAZ_PRIEMER_KROKOV: zobrazenie priemerného počtu krokov.&#10; * ZOBRAZ_PRAVDEPODOBNOST_K: zobrazenie percentuálnej úspešnosti dosiahnutia cieľa.&#10; */&#10;typedef enum {&#10;    ZOBRAZ_PRIEMER_KROKOV,&#10;    ZOBRAZ_PRAVDEPODOBNOST_K&#10;} RezimZobrazenia_t;&#10;&#10;// Štruktúra pre vlákno, aby som mu odovzdal SHM aj lokálne nastavenie&#10;/**&#10; * @brief Argumenty pre vlákno spracúvajúce klávesnicu.&#10; *&#10; * Obsahuje ukazovateľ na zdieľanú pamäť `shm` a ukazovateľ na lokálny&#10; * režim zobrazenia `p_rezim`, ktorý môže vlákno meniť (lokálne pre klienta).&#10; */&#10;typedef struct {&#10;    ZdielaneData_t* shm;&#10;    RezimZobrazenia_t* p_rezim;&#10;} VlaknoArgs_t;&#10;&#10;/**&#10; * @brief Hlavná funkcia klienta, ktorá riadi prijímanie signálov a vykresľovanie.&#10; *&#10; * Spúšťa vlákno na čítanie klávesnice, čaká na semafór `data_ready` a volá&#10; * vykresľovacie funkcie podľa aktuálneho módu v `shm`.&#10; */&#10;void spusti_klienta(ZdielaneData_t* shm);&#10;&#10;/**&#10; * @brief Vláknová funkcia, ktorá beží na pozadí a spracúva stlačenia kláves.&#10; *&#10; * Očakáva argument typu `VlaknoArgs_t*`.&#10; */&#10;void* kontrola_klavestnice(void* arg);&#10;&#10;/**&#10; * @brief Vykreslí mapu sveta s aktuálnou pozíciou chodca (znak 'C').&#10; *&#10; * Používa `shm-&gt;aktualna_pozicia_chodca` a `shm-&gt;svet` na zostavenie ASCII mapy.&#10; */&#10;void vykresli_mriezku_s_chodcom(ZdielaneData_t* shm);&#10;&#10;/**&#10; * @brief Vykreslí finálnu tabuľku so štatistikami (priemerné kroky a percentá).&#10; *&#10; * Režim zobrazenia určuje parameter `rezim`.&#10; */&#10;void vykresli_tabulku_statistik(ZdielaneData_t* shm, RezimZobrazenia_t rezim);&#10;&#10;/**&#10; * @brief Vypíše ovládacie prvky (legendu) a stručný stav simulácie.&#10; *&#10; * Zobrazí nápovedu pre používateľa (klávesové skratky) a aktuálny stav.&#10; */&#10;void vykresli_legendu(ZdielaneData_t* shm);&#10;&#10;/**&#10; * @brief Prepne lokálny režim zobrazenia (priemer &lt;-&gt; pravdepodobnosť).&#10; *&#10; * Táto funkcia mení len lokálny režim `*p_rezim` a neovplyvňuje zdieľanú pamäť.&#10; * @param klavesa Stlačená klávesa (očakáva 'v' alebo 'V').&#10; * @param p_rezim Ukazovateľ na lokálny režim zobrazenia.&#10; */&#10;void prepni_lokalny_rezim_zobrazenia(int klavesa, RezimZobrazenia_t* p_rezim);&#10;&#10;/**&#10; * @brief Koordinuje, čo sa má vykresliť podľa aktuálneho módu simulácie.&#10; *&#10; * Volá `vykresli_mriezku_s_chodcom` v interaktívnom móde alebo&#10; * `vykresli_tabulku_statistik` v sumárnom móde a nakoniec vypíše legendu.&#10; */&#10;void obsluz_vykreslovanie(ZdielaneData_t* shm, RezimZobrazenia_t rezim);&#10;&#10;#endif // SEMESTRALKA_CLIENT_LOGIC_H&#10;" />
              <option name="updatedContent" value="//&#10;// Created by damko on 23/12/2025.&#10;//&#10;&#10;#ifndef SEMESTRALKA_CLIENT_LOGIC_H&#10;#define SEMESTRALKA_CLIENT_LOGIC_H&#10;&#10;/**&#10; * @file client_logic.h&#10; * @brief Deklarácie klientských funkcií a typov pre vizualizáciu simulácie.&#10; *&#10; * Tento header poskytuje prototypy funkcií používaných na zobrazenie výsledkov&#10; * simulácie a spracovanie lokálnych vstupov (klávesnica). Obsahuje tiež jednoduchý&#10; * enum a štruktúru pre lokálne režimy zobrazenia a odovzdávanie argumentov vlákna.&#10; */&#10;&#10;#include &quot;ipc_shm.h&quot;&#10;&#10;&#10;&#10;// Definícia režimov zobrazenia - len pre potreby klienta&#10;/**&#10; * @brief Režimy, v ktorých môže klient zobrazovať sumárne výsledky.&#10; *&#10; * ZOBRAZ_PRIEMER_KROKOV: zobrazenie priemerného počtu krokov.&#10; * ZOBRAZ_PRAVDEPODOBNOST_K: zobrazenie percentuálnej úspešnosti dosiahnutia cieľa.&#10; */&#10;typedef enum {&#10;    ZOBRAZ_PRIEMER_KROKOV,&#10;    ZOBRAZ_PRAVDEPODOBNOST_K&#10;} RezimZobrazenia_t;&#10;&#10;// Štruktúra pre vlákno, aby som mu odovzdal SHM aj lokálne nastavenie&#10;/**&#10; * @brief Argumenty pre vlákno spracúvajúce klávesnicu.&#10; *&#10; * Obsahuje ukazovateľ na zdieľanú pamäť `shm` a ukazovateľ na lokálny&#10; * režim zobrazenia `p_rezim`, ktorý môže vlákno meniť (lokálne pre klienta).&#10; */&#10;typedef struct {&#10;    ZdielaneData_t* shm;&#10;    RezimZobrazenia_t* p_rezim;&#10;} VlaknoArgs_t;&#10;&#10;/**&#10; * @brief Hlavná funkcia klienta, ktorá riadi prijímanie signálov a vykresľovanie.&#10; *&#10; * Spúšťa vlákno na čítanie klávesnice, čaká na semafór `data_ready` a volá&#10; * vykresľovacie funkcie podľa aktuálneho módu v `shm`.&#10; */&#10;void spusti_klienta(ZdielaneData_t* shm);&#10;&#10;/**&#10; * @brief Vláknová funkcia, ktorá beží na pozadí a spracúva stlačenia kláves.&#10; *&#10; * Očakáva argument typu `VlaknoArgs_t*`.&#10; */&#10;void* kontrola_klavestnice(void* arg);&#10;&#10;/**&#10; * @brief Vykreslí mapu sveta s aktuálnou pozíciou chodca (znak 'C').&#10; *&#10; * Používa `shm-&gt;aktualna_pozicia_chodca` a `shm-&gt;svet` na zostavenie ASCII mapy.&#10; */&#10;void vykresli_mriezku_s_chodcom(ZdielaneData_t* shm);&#10;&#10;/**&#10; * @brief Vykreslí finálnu tabuľku so štatistikami (priemerné kroky a percentá).&#10; *&#10; * Režim zobrazenia určuje parameter `rezim`.&#10; */&#10;void vykresli_tabulku_statistik(ZdielaneData_t* shm, RezimZobrazenia_t rezim);&#10;&#10;/**&#10; * @brief Vypíše ovládacie prvky (legendu) a stručný stav simulácie.&#10; *&#10; * Zobrazí nápovedu pre používateľa (klávesové skratky) a aktuálny stav.&#10; */&#10;void vykresli_legendu(ZdielaneData_t* shm);&#10;&#10;/**&#10; * @brief Prepne lokálny režim zobrazenia (priemer &lt;-&gt; pravdepodobnosť).&#10; *&#10; * Táto funkcia mení len lokálny režim `*p_rezim` a neovplyvňuje zdieľanú pamäť.&#10; * @param klavesa Stlačená klávesa (očakáva 'v' alebo 'V').&#10; * @param p_rezim Ukazovateľ na lokálny režim zobrazenia.&#10; */&#10;void prepni_lokalny_rezim_zobrazenia(int klavesa, RezimZobrazenia_t* p_rezim);&#10;&#10;/**&#10; * @brief Koordinuje, čo sa má vykresliť podľa aktuálneho módu simulácie.&#10; *&#10; * Volá `vykresli_mriezku_s_chodcom` v interaktívnom móde alebo&#10; * `vykresli_tabulku_statistik` v sumárnom móde a nakoniec vypíše legendu.&#10; */&#10;void obsluz_vykreslovanie(ZdielaneData_t* shm, RezimZobrazenia_t rezim);&#10;&#10;#endif // SEMESTRALKA_CLIENT_LOGIC_H&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/headers/client_menu.h">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/headers/client_menu.h" />
              <option name="originalContent" value="//&#10;// Created by damko on 16/12/2025.&#10;//&#10;&#10;#ifndef SEMESTRALKA_CLIENT_MENU_H&#10;#define SEMESTRALKA_CLIENT_MENU_H&#10;&#10;/**&#10; * @file client_menu.h&#10; * @brief Rozhranie pre funkcie zobrazujúce menu a načítanie vstupu od používateľa.&#10; *&#10; * Obsahuje prototypy funkcií, ktoré načítavajú parametre simulácie z konzoly&#10; * (bezpečné čítanie celých čísel, názvov súborov, a smerových pravdepodobností)&#10; * a funkciu pre zobrazenie počiatočného menu.&#10; */&#10;&#10;#include &quot;ipc_shm.h&quot;&#10;&#10;/**&#10; * @brief Zobrazí počiatočné menu a načíta nastavenia simulácie od používateľa.&#10; *&#10; * Funkcia obsluhuje výber medzi novou náhodnou simuláciou a opätovným spustením&#10; * zo súboru. Podľa zvoleného módu vyzve používateľa na relevantné parametre&#10; * (počet replikácií, kroky, hustota prekážok, rozmery mapy, pravdepodobnosti).&#10; * Výsledok uloží do zdieľanej pamäte `shm` a nastaví `shm-&gt;stav = SIM_INIT`.&#10; *&#10; * @param shm Ukazovateľ na zdieľanú pamäť, kam sa uložia zvolené nastavenia.&#10; */&#10;void zobraz_pociatocne_menu(ZdielaneData_t* shm);&#10;&#10;/**&#10; * @brief Bezpečne načíta celé číslo z konzoly v zadanom rozsahu.&#10; *&#10; * Funkcia opakuje výzvu kým používateľ nezadá platné celé číslo v intervale&#10; * [min, max]. Pri neplatnom vstupe vyprázdni vstupný buffer a vypíše chybovú správu.&#10; *&#10; * @param otazka Text výzvy, ktorý sa vypíše používateľovi.&#10; * @param min Minimálna povolená hodnota (vrátane).&#10; * @param max Maximálna povolená hodnota (vrátane).&#10; * @return Načítaná celočíselná hodnota v rozsahu [min, max].&#10; */&#10;int nacitaj_cele_cislo(const char* otazka, int min, int max);&#10;&#10;/**&#10; * @brief Načíta názov súboru od používateľa s kontrolou prípony &quot;.txt&quot;.&#10; *&#10; * Opakuje výzvu až kým používateľ nezadá reťazec končiaci na &quot;.txt&quot;.&#10; * Výsledný názov je uložený do bufferu `kam_ulozit` (max 255 znakov).&#10; *&#10; * @param kam_ulozit Buffer kam sa uloží zadaný názov súboru (min veľkosť 256).&#10; * @param text_vyzvy Text výzvy, ktorý sa vypíše používateľovi.&#10; */&#10;void nacitaj_nazov_suboru(char* kam_ulozit, const char* text_vyzvy);&#10;&#10;/**&#10; * @brief Načíta a validuje štyri smerové pravdepodobnosti z konzoly.&#10; *&#10; * Požiada používateľa o pravdepodobnosti pre smery &quot;Hore&quot;, &quot;Dole&quot;, &quot;Vlavo&quot;, &quot;Vpravo&quot;.&#10; * Hodnoty sa zadávajú ako desatinné čísla s bodkou (napr. 0.25). Funkcia zabezpečí,&#10; * že každá hodnota je v intervale [0.0, 1.0] a že súčet všetkých štyroch hodnôt je&#10; * približne 1.0 (povolená odchýlka 0.001). Hodnoty sa ukladajú priamo do `shm-&gt;pravdepodobnost`.&#10; *&#10; * @param shm Ukazovateľ na zdieľanú pamäť, kde sú pravdepodobnosti uložené.&#10; */&#10;void nacitaj_pravdepodobnosti(ZdielaneData_t* shm);&#10;&#10;#endif //SEMESTRALKA_CLIENT_MENU_H" />
              <option name="updatedContent" value="//&#10;// Created by damko on 16/12/2025.&#10;//&#10;&#10;#ifndef SEMESTRALKA_CLIENT_MENU_H&#10;#define SEMESTRALKA_CLIENT_MENU_H&#10;&#10;/**&#10; * @file client_menu.h&#10; * @brief Rozhranie pre funkcie zobrazujúce menu a načítanie vstupu od používateľa.&#10; *&#10; * Obsahuje prototypy funkcií, ktoré načítavajú parametre simulácie z konzoly&#10; * (bezpečné čítanie celých čísel, názvov súborov, a smerových pravdepodobností)&#10; * a funkciu pre zobrazenie počiatočného menu.&#10; */&#10;&#10;#include &quot;ipc_shm.h&quot;&#10;&#10;/**&#10; * @brief Zobrazí počiatočné menu a načíta nastavenia simulácie od používateľa.&#10; *&#10; * Funkcia obsluhuje výber medzi novou náhodnou simuláciou a opätovným spustením&#10; * zo súboru. Podľa zvoleného módu vyzve používateľa na relevantné parametre&#10; * (počet replikácií, kroky, hustota prekážok, rozmery mapy, pravdepodobnosti).&#10; * Výsledok uloží do zdieľanej pamäte `shm` a nastaví `shm-&gt;stav = SIM_INIT`.&#10; *&#10; * @param shm Ukazovateľ na zdieľanú pamäť, kam sa uložia zvolené nastavenia.&#10; */&#10;void zobraz_pociatocne_menu(ZdielaneData_t* shm);&#10;&#10;/**&#10; * @brief Bezpečne načíta celé číslo z konzoly v zadanom rozsahu.&#10; *&#10; * Funkcia opakuje výzvu kým používateľ nezadá platné celé číslo v intervale&#10; * [min, max]. Pri neplatnom vstupe vyprázdni vstupný buffer a vypíše chybovú správu.&#10; *&#10; * @param otazka Text výzvy, ktorý sa vypíše používateľovi.&#10; * @param min Minimálna povolená hodnota (vrátane).&#10; * @param max Maximálna povolená hodnota (vrátane).&#10; * @return Načítaná celočíselná hodnota v rozsahu [min, max].&#10; */&#10;int nacitaj_cele_cislo(const char* otazka, int min, int max);&#10;&#10;/**&#10; * @brief Načíta názov súboru od používateľa s kontrolou prípony &quot;.txt&quot;.&#10; *&#10; * Opakuje výzvu až kým používateľ nezadá reťazec končiaci na &quot;.txt&quot;.&#10; * Výsledný názov je uložený do bufferu `kam_ulozit` (max 255 znakov).&#10; *&#10; * @param kam_ulozit Buffer kam sa uloží zadaný názov súboru (min veľkosť 256).&#10; * @param text_vyzvy Text výzvy, ktorý sa vypíše používateľovi.&#10; */&#10;void nacitaj_nazov_suboru(char* kam_ulozit, const char* text_vyzvy);&#10;&#10;/**&#10; * @brief Načíta a validuje štyri smerové pravdepodobnosti z konzoly.&#10; *&#10; * Požiada používateľa o pravdepodobnosti pre smery &quot;Hore&quot;, &quot;Dole&quot;, &quot;Vlavo&quot;, &quot;Vpravo&quot;.&#10; * Hodnoty sa zadávajú ako desatinné čísla s bodkou (napr. 0.25). Funkcia zabezpečí,&#10; * že každá hodnota je v intervale [0.0, 1.0] a že súčet všetkých štyroch hodnôt je&#10; * približne 1.0 (povolená odchýlka 0.001). Hodnoty sa ukladajú priamo do `shm-&gt;pravdepodobnost`.&#10; *&#10; * @param shm Ukazovateľ na zdieľanú pamäť, kde sú pravdepodobnosti uložené.&#10; */&#10;void nacitaj_pravdepodobnosti(ZdielaneData_t* shm);&#10;&#10;#endif //SEMESTRALKA_CLIENT_MENU_H" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/headers/server_logic.h">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/headers/server_logic.h" />
              <option name="originalContent" value="//&#10;// Created by damko on 16/12/2025.&#10;//&#10;&#10;#ifndef SEMESTRALKA_SERVER_LOGIC_H&#10;#define SEMESTRALKA_SERVER_LOGIC_H&#10;&#10;/**&#10; * @file server_logic.h&#10; * @brief Deklarácie funkcií riadiacich logiku servera simulácie chôdze.&#10; *&#10; * Tento header obsahuje prototypy funkcií implementovaných v `server.c`.&#10; * Funkcie zahŕňajú inicializáciu sveta, generovanie prekážok, samotnú&#10; * simuláciu jedného chodca, vykonanie sumárnej simulácie pre všetky políčka&#10; * a ukladanie/načítanie konfigurácie a výsledkov zo súboru.&#10; */&#10;&#10;#include &quot;common.h&quot;&#10;#include &quot;ipc_shm.h&quot;&#10;&#10;/**&#10; * @brief Spustí hlavnú riadiacu slučku servera (čakanie na klienta, spustenie simulácie).&#10; *&#10; * @param shm Ukazovateľ na zdieľanú pamäť obsahujúcu konfiguráciu a výsledky.&#10; */&#10;void spusti_server(ZdielaneData_t* shm);&#10;&#10;/**&#10; * @brief Uloží výsledky simulácie a konfiguráciu sveta do súboru.&#10; *&#10; * Ukladá rozmery, počet replikácií, maximálny počet krokov, počet prekážok,&#10; * pravdepodobnosti pohybov, mapu sveta a agregované výsledky pre každé políčko.&#10; * @param shm Ukazovateľ na zdieľanú štruktúru.&#10; */&#10;void uloz_vysledky_do_suboru(ZdielaneData_t* shm);&#10;&#10;/**&#10; * @brief Načíta konfiguráciu a mapu sveta zo súboru do zdieľanej pamäte.&#10; *&#10; * Očakáva formát uložený funkciou `uloz_vysledky_do_suboru`.&#10; * @param shm Ukazovateľ na zdieľanú štruktúru, kde sa načítané hodnoty uložia.&#10; * @return true ak bolo načítanie úspešné, inak false.&#10; */&#10;bool nacitaj_konfig_zo_suboru(ZdielaneData_t* shm);&#10;&#10;/**&#10; * @brief Overí, či je svet priechodný (všetky neprekážkové políčka dosiahnuteľné z [0,0]).&#10; *&#10; * Používa BFS na toroidnej mriežke.&#10; * @param shm Ukazovateľ na zdieľanú štruktúru obsahujúcu mapu a rozmery.&#10; * @return true ak sú všetky neprekážkové políčka dosiahnuteľné, inak false.&#10; */&#10;bool je_svet_validny(ZdielaneData_t* shm);&#10;&#10;/**&#10; * @brief Vygeneruje náhodný svet s prekážkami podľa percenta.&#10; *&#10; * @param shm Ukazovateľ na zdieľanú štruktúru.&#10; * @param percento_prekazok Celé percento (0-100) šance, že políčko bude prekážka.&#10; */&#10;void generuj_svet_s_prekazkami(ZdielaneData_t* shm, int percento_prekazok);&#10;&#10;/**&#10; * @brief Vyberie smer pohybu na základe nastavených pravdepodobností.&#10; *&#10; * Indexy: 0 = HORE, 1 = DOLE, 2 = VLAVO, 3 = VPRAVO.&#10; * @param shm Ukazovateľ na zdieľanú štruktúru obsahujúcu pole pravdepodobností.&#10; * @return Číslo v rozsahu 0..3 reprezentujúce smer.&#10; */&#10;int vyber_smeru(ZdielaneData_t* shm);&#10;&#10;/**&#10; * @brief Simuluje jedného chodca z daného štartovacieho políčka.&#10; *&#10; * Po skončení replikácie aktualizuje štatistiky (priemerné kroky a počet úspechov)&#10; * pre štartovacie políčko.&#10; * @param shm Ukazovateľ na zdieľanú štruktúru.&#10; * @param start_r Počiatočný riadok chodca.&#10; * @param start_s Počiatočný stĺpec chodca.&#10; */&#10;void simuluj_chodzu_z_policka(ZdielaneData_t* shm, int start_r, int start_s);&#10;&#10;/**&#10; * @brief Inicializuje herný svet pre server (načíta zo súboru alebo vygeneruje nový).&#10; *&#10; * @param shm Ukazovateľ na zdieľanú štruktúru.&#10; * @return true ak bol svet úspešne inicializovaný, false pri chybe alebo stop požiadavke.&#10; */&#10;bool inicializuj_svet_servera(ZdielaneData_t* shm);&#10;&#10;/**&#10; * @brief Vykoná kompletnú sumárnu simuláciu pre všetky políčka sveta.&#10; *&#10; * Pre každú replikáciu prejde všetky políčka a spustí z neho simuláciu chôdze ak nie je prekážka.&#10; * @param shm Ukazovateľ na zdieľanú štruktúru.&#10; */&#10;void vykonaj_sumarnu_simulaciu(ZdielaneData_t* shm);&#10;&#10;#endif" />
              <option name="updatedContent" value="//&#10;// Created by damko on 16/12/2025.&#10;//&#10;&#10;#ifndef SEMESTRALKA_SERVER_LOGIC_H&#10;#define SEMESTRALKA_SERVER_LOGIC_H&#10;&#10;/**&#10; * @file server_logic.h&#10; * @brief Deklarácie funkcií riadiacich logiku servera simulácie chôdze.&#10; *&#10; * Tento header obsahuje prototypy funkcií implementovaných v `server.c`.&#10; * Funkcie zahŕňajú inicializáciu sveta, generovanie prekážok, samotnú&#10; * simuláciu jedného chodca, vykonanie sumárnej simulácie pre všetky políčka&#10; * a ukladanie/načítanie konfigurácie a výsledkov zo súboru.&#10; */&#10;&#10;#include &quot;common.h&quot;&#10;#include &quot;ipc_shm.h&quot;&#10;&#10;/**&#10; * @brief Spustí hlavnú riadiacu slučku servera (čakanie na klienta, spustenie simulácie).&#10; *&#10; * @param shm Ukazovateľ na zdieľanú pamäť obsahujúcu konfiguráciu a výsledky.&#10; */&#10;void spusti_server(ZdielaneData_t* shm);&#10;&#10;/**&#10; * @brief Uloží výsledky simulácie a konfiguráciu sveta do súboru.&#10; *&#10; * Ukladá rozmery, počet replikácií, maximálny počet krokov, počet prekážok,&#10; * pravdepodobnosti pohybov, mapu sveta a agregované výsledky pre každé políčko.&#10; * @param shm Ukazovateľ na zdieľanú štruktúru.&#10; */&#10;void uloz_vysledky_do_suboru(ZdielaneData_t* shm);&#10;&#10;/**&#10; * @brief Načíta konfiguráciu a mapu sveta zo súboru do zdieľanej pamäte.&#10; *&#10; * Očakáva formát uložený funkciou `uloz_vysledky_do_suboru`.&#10; * @param shm Ukazovateľ na zdieľanú štruktúru, kde sa načítané hodnoty uložia.&#10; * @return true ak bolo načítanie úspešné, inak false.&#10; */&#10;bool nacitaj_konfig_zo_suboru(ZdielaneData_t* shm);&#10;&#10;/**&#10; * @brief Overí, či je svet priechodný (všetky neprekážkové políčka dosiahnuteľné z [0,0]).&#10; *&#10; * Používa BFS na toroidnej mriežke.&#10; * @param shm Ukazovateľ na zdieľanú štruktúru obsahujúcu mapu a rozmery.&#10; * @return true ak sú všetky neprekážkové políčka dosiahnuteľné, inak false.&#10; */&#10;bool je_svet_validny(ZdielaneData_t* shm);&#10;&#10;/**&#10; * @brief Vygeneruje náhodný svet s prekážkami podľa percenta.&#10; *&#10; * @param shm Ukazovateľ na zdieľanú štruktúru.&#10; * @param percento_prekazok Celé percento (0-100) šance, že políčko bude prekážka.&#10; */&#10;void generuj_svet_s_prekazkami(ZdielaneData_t* shm, int percento_prekazok);&#10;&#10;/**&#10; * @brief Vyberie smer pohybu na základe nastavených pravdepodobností.&#10; *&#10; * Indexy: 0 = HORE, 1 = DOLE, 2 = VLAVO, 3 = VPRAVO.&#10; * @param shm Ukazovateľ na zdieľanú štruktúru obsahujúcu pole pravdepodobností.&#10; * @return Číslo v rozsahu 0..3 reprezentujúce smer.&#10; */&#10;int vyber_smeru(ZdielaneData_t* shm);&#10;&#10;/**&#10; * @brief Simuluje jedného chodca z daného štartovacieho políčka.&#10; *&#10; * Po skončení replikácie aktualizuje štatistiky (priemerné kroky a počet úspechov)&#10; * pre štartovacie políčko.&#10; * @param shm Ukazovateľ na zdieľanú štruktúru.&#10; * @param start_r Počiatočný riadok chodca.&#10; * @param start_s Počiatočný stĺpec chodca.&#10; */&#10;void simuluj_chodzu_z_policka(ZdielaneData_t* shm, int start_r, int start_s);&#10;&#10;/**&#10; * @brief Inicializuje herný svet pre server (načíta zo súboru alebo vygeneruje nový).&#10; *&#10; * @param shm Ukazovateľ na zdieľanú štruktúru.&#10; * @return true ak bol svet úspešne inicializovaný, false pri chybe alebo stop požiadavke.&#10; */&#10;bool inicializuj_svet_servera(ZdielaneData_t* shm);&#10;&#10;/**&#10; * @brief Vykoná kompletnú sumárnu simuláciu pre všetky políčka sveta.&#10; *&#10; * Pre každú replikáciu prejde všetky políčka a spustí z neho simuláciu chôdze ak nie je prekážka.&#10; * @param shm Ukazovateľ na zdieľanú štruktúru.&#10; */&#10;void vykonaj_sumarnu_simulaciu(ZdielaneData_t* shm);&#10;&#10;#endif" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/menu.c">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/menu.c" />
              <option name="originalContent" value="#include &lt;stdio.h&gt;&#10;#include &lt;stdlib.h&gt;&#10;#include &lt;string.h&gt;&#10;&#10;#include &quot;headers/client_menu.h&quot;&#10;&#10;/**&#10; * @brief Bezpečne načíta celé číslo z konzoly v zadanom rozsahu.&#10; *&#10; * Funkcia opakuje výzvu kým používateľ nezadá platné celé číslo v intervale&#10; * [min, max]. Pri neplatnom vstupe vyprázdni vstupný buffer a vypíše chybovú správu.&#10; *&#10; * @param otazka Text výzvy, ktorý sa vypíše používateľovi.&#10; * @param min Minimálna povolená hodnota (vrátane).&#10; * @param max Maximálna povolená hodnota (vrátane).&#10; * @return Načítaná celočíselná hodnota v rozsahu [min, max].&#10; */&#10;int nacitaj_cele_cislo(const char* otazka, int min, int max) {&#10;    int hodnota;&#10;    while (1) {&#10;        printf(&quot;%s&quot;, otazka);&#10;        if (scanf(&quot;%d&quot;, &amp;hodnota) != 1) {&#10;            printf(&quot;CHYBA: Zadaj cele cislo!\n&quot;);&#10;            while (getchar() != '\n');&#10;            continue;&#10;        }&#10;        if (hodnota &lt; min || hodnota &gt; max) {&#10;            printf(&quot;CHYBA: Hodnota musi byt v rozsahu %d az %d!\n&quot;, min, max);&#10;            continue;&#10;        }&#10;        return hodnota;&#10;    }&#10;}&#10;&#10;/**&#10; * @brief Načíta názov súboru od používateľa s kontrolou prípony &quot;.txt&quot;.&#10; *&#10; * Opakuje výzvu až kým používateľ nezadá reťazec končiaci na &quot;.txt&quot;.&#10; * Výsledný názov je uložený do bufferu `kam_ulozit` (max 255 znakov).&#10; *&#10; * @param kam_ulozit Buffer kam sa uloží zadaný názov súboru (min veľkosť 256).&#10; * @param text_vyzvy Text výzvy, ktorý sa vypíše používateľovi.&#10; */&#10;void nacitaj_nazov_suboru(char* kam_ulozit, const char* text_vyzvy) {&#10;    while (1) {&#10;        printf(&quot;%s (musi koncit na .txt): &quot;, text_vyzvy);&#10;        scanf(&quot;%255s&quot;, kam_ulozit);&#10;        char *p = strstr(kam_ulozit, &quot;.txt&quot;);&#10;        if (p != NULL &amp;&amp; strlen(p) == 4) {&#10;            break;&#10;        }&#10;        printf(&quot;CHYBA: Neplatny nazov suboru!\n&quot;);&#10;    }&#10;}&#10;&#10;/**&#10; * @brief Načíta a validuje štyri smerové pravdepodobnosti z konzoly.&#10; *&#10; * Požiada používateľa o pravdepodobnosti pre smery &quot;Hore&quot;, &quot;Dole&quot;, &quot;Vlavo&quot;, &quot;Vpravo&quot;.&#10; * Hodnoty sa zadávajú ako desatinné čísla s bodkou (napr. 0.25). Funkcia zabezpečí,&#10; * že každá hodnota je v intervale [0.0, 1.0] a že súčet všetkých štyroch hodnôt je&#10; * približne 1.0 (povolená odchýlka 0.001).&#10; *&#10; * @param shm Ukazovateľ na zdieľanú pamäť, kde sú pravdepodobnosti uložené do `shm-&gt;pravdepodobnost`.&#10; */&#10;void nacitaj_pravdepodobnosti(ZdielaneData_t* shm) {&#10;    double suma;&#10;    char vstup_text[20];&#10;    char* smery[] = {&quot;Hore&quot;, &quot;Dole&quot;, &quot;Vlavo&quot;, &quot;Vpravo&quot;};&#10;&#10;    do {&#10;        suma = 0;&#10;        printf(&quot;\nZadaj pravdepodobnosti pohybu (sucet musi byt 1.0):\n&quot;);&#10;        for (int i = 0; i &lt; 4; i++) {&#10;            while (1) {&#10;                printf(&quot;Pravdepodobnost pre %s: &quot;, smery[i]);&#10;                scanf(&quot; %19s&quot;, vstup_text);&#10;                if (strchr(vstup_text, ',')) {&#10;                    printf(&quot;CHYBA: Pouzivaj bodku!\n&quot;);&#10;                    continue;&#10;                }&#10;                char* endptr;&#10;                double hodnota = strtod(vstup_text, &amp;endptr);&#10;                if (vstup_text == endptr || hodnota &lt; 0.0 || hodnota &gt; 1.0) {&#10;                    printf(&quot;CHYBA: Neplatna hodnota!\n&quot;);&#10;                    continue;&#10;                }&#10;                shm-&gt;pravdepodobnost[i] = hodnota;&#10;                suma += hodnota;&#10;                break;&#10;            }&#10;        }&#10;    } while (suma &lt; 0.999 || suma &gt; 1.001);&#10;}&#10;&#10;/**&#10; * @brief Zobrazí počiatočné menu a načíta nastavenia simulácie od používateľa.&#10; *&#10; * Funkcia obsluhuje výber medzi novou náhodnou simuláciou a opätovným spustením&#10; * zo súboru. Podľa zvoleného módu vyzve používateľa na relevantné parametre&#10; * (počet replikácií, kroky, hustota prekážok, rozmery mapy, pravdepodobnosti).&#10; * Výsledok uloží do zdieľanej pamäte `shm` a nastaví `shm-&gt;stav = SIM_INIT`.&#10; *&#10; * @param shm Ukazovateľ na zdieľanú pamäť, kam sa uložia zvolené nastavenia.&#10; */&#10;void zobraz_pociatocne_menu(ZdielaneData_t* shm) {&#10;    printf(&quot;=== HLAVNE MENU ===\n&quot;);&#10;    printf(&quot;1 - Nova nahodna simulacia\n&quot;);&#10;    printf(&quot;2 - Opatovne spustenie (nacitat zo suboru)\n&quot;);&#10;&#10;    int volba = nacitaj_cele_cislo(&quot;Tvoja volba: &quot;, 1, 2);&#10;    shm-&gt;opetovne_spustenie = (volba == 2);&#10;&#10;    if (shm-&gt;opetovne_spustenie) {&#10;        nacitaj_nazov_suboru(shm-&gt;nazov_suboru, &quot;Zadaj nazov suboru pre NACITANIE&quot;);&#10;        shm-&gt;mod = (nacitaj_cele_cislo(&quot;Mod (0-Interaktivny., 1-Sumarny.): &quot;, 0, 1) == 0) ? INTERAKTIVNY : SUMARNY;&#10;    } else {&#10;        printf(&quot;\n=== NASTAVENIA NOVEJ SIMULACIE ===\n&quot;);&#10;&#10;        shm-&gt;mod = (nacitaj_cele_cislo(&quot;Mod (0-Interaktivny., 1-Sumarny.): &quot;, 0, 1) == 0) ? INTERAKTIVNY : SUMARNY;&#10;        nacitaj_nazov_suboru(shm-&gt;nazov_suboru, &quot;Zadaj nazov suboru pre ULOZENIE&quot;);&#10;&#10;        if (shm-&gt;mod == SUMARNY) {&#10;            shm-&gt;total_replikacie = nacitaj_cele_cislo(&quot;Zadaj pocet replikacii: &quot;, 1, 1000000);&#10;        } else {&#10;            shm-&gt;total_replikacie = 1;&#10;        }&#10;&#10;        shm-&gt;K_max_kroky = nacitaj_cele_cislo(&quot;Max. pocet krokov: &quot;, 1, 1000000);&#10;        shm-&gt;pocet_prekazok = nacitaj_cele_cislo(&quot;Hustota prekazok (0-50%): &quot;, 0, 50);&#10;        shm-&gt;riadky = nacitaj_cele_cislo(&quot;Pocet riadkov: &quot;, 1, MAX_ROWS);&#10;        shm-&gt;stlpece = nacitaj_cele_cislo(&quot;Pocet stlpcov: &quot;, 1, MAX_COLS);&#10;&#10;        nacitaj_pravdepodobnosti(shm);&#10;    }&#10;&#10;    shm-&gt;stav = SIM_INIT;&#10;    printf(&quot;\n[MENU] Nastavenia pripravene, simulacia startuje...\n&quot;);&#10;}" />
              <option name="updatedContent" value="#include &lt;stdio.h&gt;&#10;#include &lt;stdlib.h&gt;&#10;#include &lt;string.h&gt;&#10;&#10;#include &quot;headers/client_menu.h&quot;&#10;&#10;/**&#10; * @brief Bezpečne načíta celé číslo z konzoly v zadanom rozsahu.&#10; *&#10; * Funkcia opakuje výzvu kým používateľ nezadá platné celé číslo v intervale&#10; * [min, max]. Pri neplatnom vstupe vyprázdni vstupný buffer a vypíše chybovú správu.&#10; *&#10; * @param otazka Text výzvy, ktorý sa vypíše používateľovi.&#10; * @param min Minimálna povolená hodnota (vrátane).&#10; * @param max Maximálna povolená hodnota (vrátane).&#10; * @return Načítaná celočíselná hodnota v rozsahu [min, max].&#10; */&#10;int nacitaj_cele_cislo(const char* otazka, int min, int max) {&#10;    int hodnota;&#10;    while (1) {&#10;        printf(&quot;%s&quot;, otazka);&#10;        if (scanf(&quot;%d&quot;, &amp;hodnota) != 1) {&#10;            printf(&quot;CHYBA: Zadaj cele cislo!\n&quot;);&#10;            while (getchar() != '\n');&#10;            continue;&#10;        }&#10;        if (hodnota &lt; min || hodnota &gt; max) {&#10;            printf(&quot;CHYBA: Hodnota musi byt v rozsahu %d az %d!\n&quot;, min, max);&#10;            continue;&#10;        }&#10;        return hodnota;&#10;    }&#10;}&#10;&#10;/**&#10; * @brief Načíta názov súboru od používateľa s kontrolou prípony &quot;.txt&quot;.&#10; *&#10; * Opakuje výzvu až kým používateľ nezadá reťazec končiaci na &quot;.txt&quot;.&#10; * Výsledný názov je uložený do bufferu `kam_ulozit` (max 255 znakov).&#10; *&#10; * @param kam_ulozit Buffer kam sa uloží zadaný názov súboru (min veľkosť 256).&#10; * @param text_vyzvy Text výzvy, ktorý sa vypíše používateľovi.&#10; */&#10;void nacitaj_nazov_suboru(char* kam_ulozit, const char* text_vyzvy) {&#10;    while (1) {&#10;        printf(&quot;%s (musi koncit na .txt): &quot;, text_vyzvy);&#10;        scanf(&quot;%255s&quot;, kam_ulozit);&#10;        char *p = strstr(kam_ulozit, &quot;.txt&quot;);&#10;        if (p != NULL &amp;&amp; strlen(p) == 4) {&#10;            break;&#10;        }&#10;        printf(&quot;CHYBA: Neplatny nazov suboru!\n&quot;);&#10;    }&#10;}&#10;&#10;/**&#10; * @brief Načíta a validuje štyri smerové pravdepodobnosti z konzoly.&#10; *&#10; * Požiada používateľa o pravdepodobnosti pre smery &quot;Hore&quot;, &quot;Dole&quot;, &quot;Vlavo&quot;, &quot;Vpravo&quot;.&#10; * Hodnoty sa zadávajú ako desatinné čísla s bodkou (napr. 0.25). Funkcia zabezpečí,&#10; * že každá hodnota je v intervale [0.0, 1.0] a že súčet všetkých štyroch hodnôt je&#10; * približne 1.0 (povolená odchýlka 0.001).&#10; *&#10; * @param shm Ukazovateľ na zdieľanú pamäť, kde sú pravdepodobnosti uložené do `shm-&gt;pravdepodobnost`.&#10; */&#10;void nacitaj_pravdepodobnosti(ZdielaneData_t* shm) {&#10;    double suma;&#10;    char vstup_text[20];&#10;    char* smery[] = {&quot;Hore&quot;, &quot;Dole&quot;, &quot;Vlavo&quot;, &quot;Vpravo&quot;};&#10;&#10;    do {&#10;        suma = 0;&#10;        printf(&quot;\nZadaj pravdepodobnosti pohybu (sucet musi byt 1.0):\n&quot;);&#10;        for (int i = 0; i &lt; 4; i++) {&#10;            while (1) {&#10;                printf(&quot;Pravdepodobnost pre %s: &quot;, smery[i]);&#10;                scanf(&quot; %19s&quot;, vstup_text);&#10;                if (strchr(vstup_text, ',')) {&#10;                    printf(&quot;CHYBA: Pouzivaj bodku!\n&quot;);&#10;                    continue;&#10;                }&#10;                char* endptr;&#10;                double hodnota = strtod(vstup_text, &amp;endptr);&#10;                if (vstup_text == endptr || hodnota &lt; 0.0 || hodnota &gt; 1.0) {&#10;                    printf(&quot;CHYBA: Neplatna hodnota!\n&quot;);&#10;                    continue;&#10;                }&#10;                shm-&gt;pravdepodobnost[i] = hodnota;&#10;                suma += hodnota;&#10;                break;&#10;            }&#10;        }&#10;    } while (suma &lt; 0.999 || suma &gt; 1.001);&#10;}&#10;&#10;/**&#10; * @brief Zobrazí počiatočné menu a načíta nastavenia simulácie od používateľa.&#10; *&#10; * Funkcia obsluhuje výber medzi novou náhodnou simuláciou a opätovným spustením&#10; * zo súboru. Podľa zvoleného módu vyzve používateľa na relevantné parametre&#10; * (počet replikácií, kroky, hustota prekážok, rozmery mapy, pravdepodobnosti).&#10; * Výsledok uloží do zdieľanej pamäte `shm` a nastaví `shm-&gt;stav = SIM_INIT`.&#10; *&#10; * @param shm Ukazovateľ na zdieľanú pamäť, kam sa uložia zvolené nastavenia.&#10; */&#10;void zobraz_pociatocne_menu(ZdielaneData_t* shm) {&#10;    printf(&quot;=== HLAVNE MENU ===\n&quot;);&#10;    printf(&quot;1 - Nova nahodna simulacia\n&quot;);&#10;    printf(&quot;2 - Opatovne spustenie (nacitat zo suboru)\n&quot;);&#10;&#10;    int volba = nacitaj_cele_cislo(&quot;Tvoja volba: &quot;, 1, 2);&#10;    shm-&gt;opetovne_spustenie = (volba == 2);&#10;&#10;    if (shm-&gt;opetovne_spustenie) {&#10;        nacitaj_nazov_suboru(shm-&gt;nazov_suboru, &quot;Zadaj nazov suboru pre NACITANIE&quot;);&#10;        shm-&gt;mod = (nacitaj_cele_cislo(&quot;Mod (0-Interaktivny., 1-Sumarny.): &quot;, 0, 1) == 0) ? INTERAKTIVNY : SUMARNY;&#10;    } else {&#10;        printf(&quot;\n=== NASTAVENIA NOVEJ SIMULACIE ===\n&quot;);&#10;&#10;        shm-&gt;mod = (nacitaj_cele_cislo(&quot;Mod (0-Interaktivny., 1-Sumarny.): &quot;, 0, 1) == 0) ? INTERAKTIVNY : SUMARNY;&#10;        nacitaj_nazov_suboru(shm-&gt;nazov_suboru, &quot;Zadaj nazov suboru pre ULOZENIE&quot;);&#10;&#10;        if (shm-&gt;mod == SUMARNY) {&#10;            shm-&gt;total_replikacie = nacitaj_cele_cislo(&quot;Zadaj pocet replikacii: &quot;, 1, 1000000);&#10;        } else {&#10;            shm-&gt;total_replikacie = 1;&#10;        }&#10;&#10;        shm-&gt;K_max_kroky = nacitaj_cele_cislo(&quot;Max. pocet krokov: &quot;, 1, 1000000);&#10;        shm-&gt;pocet_prekazok = nacitaj_cele_cislo(&quot;Hustota prekazok (0-50%): &quot;, 0, 50);&#10;        shm-&gt;riadky = nacitaj_cele_cislo(&quot;Pocet riadkov: &quot;, 1, MAX_ROWS);&#10;        shm-&gt;stlpece = nacitaj_cele_cislo(&quot;Pocet stlpcov: &quot;, 1, MAX_COLS);&#10;&#10;        nacitaj_pravdepodobnosti(shm);&#10;    }&#10;&#10;    shm-&gt;stav = SIM_INIT;&#10;    printf(&quot;\n[MENU] Nastavenia pripravene, simulacia startuje...\n&quot;);&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>